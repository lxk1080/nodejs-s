# nodejs-s

1、nodejs 是单线程的，适合 I/O 密集型任务，但是不适合 CPU 密集型的任务
  - 单线程是指主执行线程是单线程的，其实在 libnv 库里面是有存放着多线程的线程池的
  - 适合 I/O 密集型操作。I/O 操作不是 node 主线程去执行，所以非阻塞式的 I/O，node 执行线程不用等待
  - 不适合 CPU 密集型。大量的计算需要 node 主线程去执行，由于是单线程，所以会造成堵塞，不能充分利用多核 cpu 的计算能力
  - 对于 node 的缺点，事实上也有给出解决方案

2、Buffer 的特点总结
  - 无需 require 的一个全局变量
  - 实现 nodejs 平台下的二进制数据操作
  - 不占据 V8 堆内存大小的独立空间
  - 内存的使用由 node 控制，由 V8 的 GC 回收
  - 一般配合 Stream 流使用，充当数据缓冲区

3、常见的模块化规范
  - `CommonJS` 同步加载，不适合浏览器端
  - `AMD` 异步加载，define、require，代表：require.js
  - `CMD` 异步加载，专为浏览器制作，整合了 CommonJS 和 AMD 的优点，代表：sea.js
  - `ESM` 一般而言是异步加载的

4、在 node 中任意 js 文件都是一个模块，module 属性：`测试文件：/test/module.test.js`
  - id：模块标识符，一般是一个绝对路径
  - filename：文件模块的绝对路径
  - path：文件模块所在目录的绝对路径
  - loaded：布尔值，表示模块是否完成加载
  - parent：对象，存放调用当前模块的模块（已弃用，使用 require.main 和 module.children 代替）
  - children：数组，存放当前模块调用的其他模块
  - exports：当前模块需要暴露的内容
  - paths：数组，加载模块时 node_modules 可能存在的所有位置

5、require 属性：`测试文件：/test/require_test/index.js`
  - resolve：返回模块文件的绝对路径
  - extensions：可以做解析操作的后缀名及处理函数（已弃用）
  - main：表示 Node.js 进程启动时加载的入口脚本的 Module 对象
  - cache：缓存的模块

6、文件权限位

![png](https://article.biliimg.com/bfs/article/abc30455c030a935bbd79955fdb881912d392c22.png)

7、文件系统标志
  - `'a'` 打开文件进行追加。如果文件不存在，则创建该文件
  - `'ax'` 类似于 'a'，但如果路径存在则失败
  - `'a+'` 打开文件进行读取和追加。如果文件不存在，则创建该文件
  - `'ax+'` 类似于 'a+'，但如果路径存在则失败
  - `'as'` 打开文件以同步模式追加。如果文件不存在，则创建该文件
  - `'as+'` 以同步模式打开文件进行读取和追加。如果文件不存在，则创建该文件
  - `'r'` 打开文件进行读取。如果文件不存在，则会抛出异常
  - `'r+'` 打开文件进行读写。如果文件不存在，则会抛出异常
  - `'rs+'` 以同步方式打开文件进行读写。指示操作系统绕过本地文件系统缓存
  - `'w'` 打开文件进行写入。如果文件不存在，则创建该文件，如果存在，则被截断（清空内容重新写入）
  - `'wx'` 类似于 'w'，但如果路径存在则失败
  - `'w+'` 打开文件进行读写。该文件被创建（如果它不存在）或被截断（如果它存在）
  - `'wx+'` 类似于 'w+'，但如果路径存在则失败

<br><br><br>
